<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Scope</title>
</head>
<body>
    <script>
        /*
        스코프는 프로그램 안에서 변수의 접근에 대한 것입니다.
        어떤 변수는 프로그램 전체에서 접근이 가능하고
        어떤 변수는 특정 블록 안에서만 접근이 가능한 것도 있습니다. 이를 스코프라고 합니다.
        
        우선 Global Scope는 프로그램 전체에서 접근이 가능합니다
        Global Scope를 선언하는 법은 {} 밖에서 선언하면 됩니다.

        */

        const moon = "Full Moon";

        const moonShape = () =>{
            return moon;
        };
        console.log(moonShape());//Full Moon으로 출력
        /*
        이처럼 함수 안에서 밖에 있는 변수의 접근이 가능해집니다.
        하지만 Global Scope는 프로그램 내에서 충돌의 가능성이 높아서 
        최대한 Global Scope의 사용을 피해야합니다. 예시를 한 번 봅시다
        */

        let skyColor = 'blue';

        const skyView = () => {
            skyColor = 'black';//변수 재할당
            return skyColor;
        }
        console.log(skyView());//Black
        console.log(skyColor);//Black

        /*
        Global Scope를 함수 내에서 재할당하여 blue -> black이 되었습니다.
        아 이런 생각을 하실 수 있겠네요
        '코드 읽어보면 되지'
        위에 코드만 보면 당연히 가능하겠죠? 3 ~ 4줄만 읽어보면 알 수 있으니까요?
        하지만 코드가 100줄 500줄이 넘어가면 어떨까요?
        위의 예시처럼 함수와 변수가 붙어있지 않고 멀리 떨어져있다면요?
        찾는데 시간 다쓰고 다른 함수와 또 연결이 되어있다면 골치만 아파집니다.
        */

        /*
        Block Scope
        위와같은 상황을 막기 위해서 블록 내에서 변수를 선언한다
        블록 내에서 변수를 선언하게 되면 블록 내에서는 접근이 가능하지만
        밖에서는 접근이 불가능하다.
        */

        const makePizza = () => {
            let pizza = "cheese";
            console.log(pizza);//cheese
        }
        makePizza();
        // console.log(pizza);//error
        /*
        밖에서 접근은 물론 수정도 불가능합니다.
        if 문에서도 Block Scope는 동일하게 적용됩니다.
        */

        const magicBox = () => {
            let fruit = "apple";
            let magic = true;
            if (magic){
                let fruit = "orange";
                console.log(fruit);//orange
            } 
            console.log(fruit);//apple
        };
        magicBox();

        /*
        for문에서도 Block Scope가 적용됩니다.
        */

        const iCounter = () => {
            let i = 8;
            for(let i = 0 ; i < 10 ; i++){
                console.log(i);//0부터 9까지 로그가 찍힙니다.
            }//여기까지가 for Block입니다
            console.log(i);//8이 출력됩니다. for문 block 접근 불가
        }
        //물론 함수 밖에서 i에 접근이 안됩니다.

    </script>
</body>
</html>